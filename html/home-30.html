<!-- Landing hero header -->
<div id="landingpage">
  <div class="main-head" id="main-head">
    <div class="main-center" id="marketing-titles">
      <h1 class="marketing-header">A unique and affordable way to travel.</h1>
      <div class="marketing-wrapper">
        <!-- Selection Tabs -->
        <ul class="sl-nav" id="tab-search-selection">
          <li><a class="sl-tabs sl-tab-rentals" data-name="rentals" data-toggle="tab" href="#rentals">Place Rentals</a></li>
          <li><a class="sl-tabs sl-tab-rides bdr-left" data-name="rides" data-toggle="tab" href="#rides">Rideshares</a></li>
          <li><a class="sl-tabs sl-tab-experiences bdr-left" data-name="experiences" data-toggle="tab" href="#experiences">Experiences</a></li>
        </ul>
        <!-- Selection Content -->
        <div class="tab-content">
          <div class="tab-pane" id="rentals">
            <div class="marketing-titles">
              <h2 class="marketing-sub">Rent from over 400,000 short term and vacation rentals in 34,000 cities.</h2>
            </div>
            <div class="css-main-search">
              <div class="inner-search">
                <div class="search-bar-wrapper">
                  <form class="form-inline" id="sl-hou-searchForm">
                    <div class="inner-form row-fluid">
                      <div class="input-wrapper">
                        <input class="css-input-sea" id="sl-hou-dest-location-input" type="text" autocomplete="off" placeholder="Where do you want to go ?" required>
                      </div>
                      <div class="input-wrapper">
                        <span class="add-on calendar-prepend"><i class="icon-calendar"></i></span>
                        <input class="input-small sl-hou-from-date" id="sl-hou-sdate-input" autocomplete="off" placeholder="Check in" type="text">
                      </div>
                      <div class="input-wrapper">
                        <span class="add-on calendar-prepend"><i class="icon-calendar"></i></span>
                        <input class="input-small sl-hou-to-date" autocomplete="off" placeholder="Check out" id="sl-hou-edate-input" type="text">
                      </div>
                      <div class="input-wrapper">
                        <select class="sl-hou-guest-input" id="sl-hou-guest-input">
                          <option value="1">1 guest</option>
                          <option value="2">2 guests</option>
                          <option value="3">3 guests</option>
                          <option value="4">4 guests</option>
                          <option value="5">5 guests</option>
                          <option value="6">6 guests</option>
                          <option value="7">7 guests</option>
                          <option value="8">8 guests</option>
                          <option value="9">9 guests</option>
                          <option value="10">10 guests</option>
                          <option value="11">11 guests</option>
                          <option value="12">12 guests</option>
                          <option value="13">13 guests</option>
                          <option value="14">14 guests</option>
                          <option value="15">15 guests</option>
                          <option value="16">16+ guests</option>
                        </select>
                      </div>
                      <button class="css-searchit" id="hou-searchIt" type="submit">
                        <span class="icon-search css-searchicon"></span>&nbsp;Search
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <div class="tab-pane" id="rides">
            <div class="marketing-titles">
              <h2 class="marketing-sub">Find local, commuter, or long distance rides and carpooling in over 7,000 cities.</h2>
            </div>
            <div class="css-main-search">
              <div class="inner-search">
                <div class="search-bar-wrapper">
                  <form class="form-inline" id="sl-rid-searchForm">
                    <div class="inner-form row-fluid">
                      <div class="input-wrapper">
                        <input class="css-input-sea" id="sl-rid-orig-location-input" type="text" autocomplete="off" placeholder="Departure city">
                      </div>
                      <div class="input-wrapper">
                        <i class="icon-long-arrow-right hp-arrow"></i>
                      </div>
                      <div class="input-wrapper">
                        <input class="css-input-sea" id="sl-rid-dest-location-input" type="text" autocomplete="off" placeholder="Destination city">
                      </div>
                      <div class="input-wrapper">
                        <span class="add-on calendar-prepend"><i class="icon-calendar"></i></span>
                        <input class="input-small sl-rid-from-date" id="sl-rid-sdate-input" autocomplete="off" placeholder="Departure" type="text">
                      </div>
                      <div class="input-wrapper">
                        <select class="sl-rid-guest-input" id="sl-rid-guest-input">
                          <option value="1">1 seat</option>
                          <option value="2">2 seats</option>
                          <option value="3">3 seats</option>
                          <option value="4">4 seats</option>
                          <option value="5">5 seats</option>
                        </select>
                      </div>
                      <button class="css-searchit" id="rid-searchIt" type="submit">
                        <span class="icon-search css-searchicon"></span>&nbsp;Search
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <div class="tab-pane" id="experiences">
            <div class="marketing-titles">
              <h2 class="marketing-sub">Find activities, tours, and memorable things to do, all hosted by local people in over 400 cities.</h2>
            </div>
            <div class="css-main-search">
              <div class="inner-search">
                <div class="search-bar-wrapper">
                  <form class="form-inline" id="sl-exp-searchForm">
                    <div class="inner-form row-fluid">
                      <div class="input-wrapper">
                        <input class="css-input-sea" id="sl-exp-dest-location-input" type="text" autocomplete="off" placeholder="Find something to do in.." required>
                      </div>
                      <button class="css-searchit" id="exp-searchIt" type="submit">
                        <span class="icon-search css-searchicon"></span>&nbsp;Search
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- horizontal logo bar -->
  <div class="css-logo-bar">
    <div class="css-container">
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="Vacation rentals classifieds  - Craigslist">
        <img src="../img/craigslist_hp.png" alt="craigslist logo">
      </span>
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="Reliable Rideshares &amp; Carpooling for Canada and the U.S. - Kangaride">
        <img src="../img/kangaride_logo_edited.png" alt="kangaride logo">
      </span>
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="Ridesharing, carpooling and buses - Zimride">
        <img src="../img/zimride-final.png" alt="zimride logo">
      </span>
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="Vacation Rentals â€“ Beach Houses, Cabins, Condos, Cottages, Vacation Homes &amp; Villas | FlipKey">
        <img src="../img/flipkey.png" alt="flipkey logo">
      </span>
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="Vacation rentals, private rooms, sublets by the night - Accommodations on houserental">
        <img src="../img/airbnb_logo_edited.png" alt="houserental logo">
      </span>
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="rideshare | Rideshare and carpool with friendly people.">
        <img src="../img/ridejoy_logo_edited.png" alt="rideshare logo">
      </span>
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="Ridester - The way to rideshare anywhere in the USA">
        <img src="../img/ridester.png" alt="ridester logo">
      </span>
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="tourism - Tours, trips and other things to do on vacation">
        <img src="../img/vayable_logo_edited.png" alt="tourism logo">
      </span>
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="private rooms, holiday house, accommodations">
        <img src="../img/9flats-final.png" alt="9flats logo">
      </span>
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="Roomorama - Short Term Rentals, Nightly and Weekly Apartments, Homes and Rooms">
        <img src="../img/roomorama.png" alt="roomorama logo">
      </span>
      <span class="tooly logos" data-toggle="tooltip" data-placement="top" title="BlaBlaCar connects drivers with empty seats and people travelling the same way - Over 3 Million trusted members saving up to 70% on inter-city travel!">
        <img src="../img/blablacar-final.png" alt="blablacar logo">
      </span>
    </div>
  </div>

  <div id="how-it-works" class="how-it-works">
    <h3 class="text-center hiw-header">Using Outpost is easy. Here's how it works:</h3>
    <div class="hiw-container">
      <div class="row">
        <div class="hiw-first-wrap span4 hiw-wrap">
          <div class="hiw hiw-first">
            <div class="hiw-num" style="color:#ec5f41">1</div>
            <div class="hiw-icon"><div class="icon-map-search icon-search icon-large"></div></div>
          </div>

          <h4 class="hiw-title">Lookup a city</h4>
          <p class="hiw-desc">Enter which city you plan to go to and hit search!</p>
        </div>

        <div class="hiw-second-wrap span4 hiw-wrap">
          <div class="hiw hiw-second">
            <div class="hiw-num" style="color:#24b0cf">2</div>

            <div class="hiw-icon"><div class="hiw icon-map-marker icon-large"></div></div>
          </div>
          <h4 class="hiw-title">One search to rule them all!</h4>
          <p class="hiw-desc">You will be presented with rideshares, location rentals and local guides on the sidebar.</p>
        </div>

        <div class="hiw-third-wrap span4 hiw-wrap">
          <div class="hiw hiw-third">
            <div class="hiw-num" style="color:#95d17b">3</div>
            <div class="hiw-icon"><img src="../img/box-car.png" alt="car icon"></div>
          </div>
          <h4 class="hiw-title">Pack up and travel</h4>
          <p class="hiw-desc">Pick a rideshare to get to your destination, meet with your host and get hooked with the hidden secrets of the city with a local guide!.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $(function() {
    var resizeLanding = function() {
      var bgheight = $(window).height() - 52;
      var centerLanding = Math.round(bgheight / 3) - 50;
      $('#main-head').css("height", bgheight);
      $('#marketing-titles').css("padding-top", centerLanding);
    };

    var customRange = function customRange(input) {
      var minDate;
      var id = input.id;
      var startDateVal = "";
      if (id === 'sl-hou-edate-input') {
        startDateVal = $hou_sdate.val();
      } else if (id === 'sl-rid-edate-input') {
        startDateVal = $rid_sdate.val();
      }
      if (id === 'sl-hou-edate-input' || id === 'sl-rid-edate-input') {
        if (startDateVal) {
          minDate = new Date(startDateVal);
          minDate.setDate(minDate.getDate() + 1);
          return {
            minDate: minDate
          };
        } else {
          return {
            minDate: 1
          };
        }
      }
    };

    var geoPromise = Outpost.helpers.ipToGeo();

    var optionsCities = {
      types: ['(cities)']
    };

    var optionsCountry = {
      types: ["(regions)"]
    };

    $('.pac-container').remove();

    var houDestInput = document.getElementById('sl-hou-dest-location-input');
    var ridOrigInput = document.getElementById('sl-rid-orig-location-input');
    var ridDestInput = document.getElementById('sl-rid-dest-location-input');
    var expDestInput = document.getElementById('sl-exp-dest-location-input');

    var houDestTA = new google.maps.places.Autocomplete(houDestInput, optionsCountry);
    var ridOrigTA = new google.maps.places.Autocomplete(ridOrigInput, optionsCities);
    var ridDestTA = new google.maps.places.Autocomplete(ridDestInput, optionsCities);
    var expDestTA = new google.maps.places.Autocomplete(expDestInput, optionsCities);

    var $hou_sdate = $('#sl-hou-sdate-input');
    var $hou_edate = $('#sl-hou-edate-input');
    var $rid_sdate = $('#sl-rid-sdate-input');

    $hou_sdate.datepicker({
      minDate: 0,
      inline: true,
      numberOfMonths: 2,
      onClose: function(selectedDate) {
        $hou_edate.focus();
      }
    });

    $hou_edate.datepicker({
      inline: true,
      numberOfMonths: 2,
      beforeShow: customRange,
      onClose: function() {
        $('#sl-hou-guest-input').focus();
      }
    });

    $rid_sdate.datepicker({
      minDate: 0,
      inline: true,
      numberOfMonths: 2,
      onClose: function(selectedDate) {
        $('#sl-rid-guest-input').focus();
      }
    });


    google.maps.event.addListener(houDestTA, 'place_changed', function() {
      $hou_sdate.focus();
    });
    google.maps.event.addListener(ridOrigTA, 'place_changed', function() {
      ridDestInput.focus();
    });
    google.maps.event.addListener(ridDestTA, 'place_changed', function() {
      $rid_sdate.focus();
    });
    google.maps.event.addListener(expDestTA, 'place_changed', function() {
      $('#exp-searchIt').focus();
    });

    geoPromise.done(function(data) {
      var origLocation = data.location;
      if (data.city) {
        $(ridOrigInput).val(origLocation);
        $(ridDestInput).focus();
      } else {
        $(ridOrigInput).focus();
      }
    });

    $(ridOrigInput).one("click", function(){
      $(this).val("");
    });

    $(window).resize(function() {
      resizeLanding();
    });

    resizeLanding();
  });
</script>
