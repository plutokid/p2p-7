<!-- Map and Sidebar -->
  <div class="sidebar mvwq">
    <div class="inner" id="js-inner">
      <!-- Result info -->
      <p class="resultInfo"></p>
      <!-- TabNavs -->
      <ul class="nav nav-tabs">
        <li class="active"><a class="css-red" id="js-ridesharemenu" href="#rideshare" data-toggle="tab" title="rideshare"><img src="../img/hipster-car.png"> Rideshares</a></li>
        <li><a id="js-houserentalmenu" href="#houserental" data-toggle="tab" title="houserental"><img src="../img/hipster-house.png"> Houserentals</a></li>
        <li><a id="js-tourismmenu" href="#tourism" data-toggle="tab" title="tourism"><img src="../img/hipster-guy.png"></a></li>
      </ul>
      <div class="tab-content">
        <!-- Rideshare -->
        <div class="tab-pane active" id="rideshare">
          <div class="filters" id="filter-rideshare">
            <div class="price-filter">
              <ul class="slider_values">
                <li class="price-value-min minimax">$<span id="price-value-min-rid">10</span> USD</li>
                <li class="price-value-max minimax">$<span id="price-value-max-rid">300+</span> USD</li>
              </ul>
              <div class="input-large" id="js-price-input-rid"></div>
            </div>
            <select class="sortfilter" id="js-sortby-input-rid">
              <option selected disabled value="nothing">Sort by</option>
              <option value="low2high">Price: Low to high</option>
              <option value="high2low">Price: High to low</option>
            </select>
          </div>
          <div class="loading" id="rideshare-loading"></div>
          <div class="lists js-lists" id="rideshare-list">
            <!-- items are here -->
          </div>
        </div>

        <!-- House rental -->
        <div class="tab-pane" id="houserental">
          <div class="filters" id="filter-houserental">
            <div class="price-filter">
              <ul class="slider_values">
                <li class="price-value-min minimax">$<span id="price-value-min-hou">10</span> USD</li>
                <li class="price-value-max minimax">$<span id="price-value-max-hou">300+</span> USD</li>
              </ul>
              <div class="input-large" id="js-price-input-hou"></div>
            </div>
            <select class="sortfilter" id="js-sortby-input-hou">
              <option selected disabled value="nothing">Sort by</option>
              <option value="low2high">Price: Low to high</option>
              <option value="high2low">Price: High to low</option>
            </select>
          </div>
          <div class="loading" id="houserental-loading"></div>
          <div class="lists js-lists" id="houserental-list">
            <!-- items are here -->
          </div>
          <button class="btn load-more" id="lm-air" type="button" data-loading-text="Loading...">Load more..</button>
        </div>

        <!-- Tourism -->
        <div class="tab-pane" id="tourism">
          <div class="filters" id="filter-tourism">
            <div class="price-filter">
              <ul class="slider_values">
                <li class="price-value-min minimax">$<span id="price-value-min-tou">10</span> USD</li>
                <li class="price-value-max minimax">$<span id="price-value-max-tou">300+</span> USD</li>
              </ul>
              <div class="input-large" id="js-price-input-tou"></div>
            </div>
            <select class="sortfilter" id="js-sortby-input-tou">
              <option selected disabled value="nothing">Sort by</option>
              <option value="low2high">Price: Low to high</option>
              <option value="high2low">Price: High to low</option>
            </select>
          </div>
          <div class="loading" id="tourism-loading"></div>
          <div class="lists js-lists" id="tourism-list">
            <!-- items are here -->
          </div>
          <button class="btn load-more" id="lm-vay" type="button" data-loading-text="Loading...">Load more..</button>
        </div>
      </div>
    </div>
  </div>
<script>
  // Initializes the city typeahead for orig and dest location
  var options = {
    types: ['(cities)']
  };
  new google.maps.places.Autocomplete($('#js-orig-location-input')[0], options);
  new google.maps.places.Autocomplete($('#js-search-again')[0], options);
  $('#js-search-again').val(Outpost.values.destLocation);

  $('#map').css('height', Outpost.state.rMapHeight);
  $('#js-inner').css('min-height', Outpost.state.rMapHeight + 8);
  
  // Initiialize datepicker inputs
  var $sdate = $('#js-sdate-input');
  var $edate = $("#js-edate-input");

  var customRange = function customRange(input) {
    var minDate;
    var startDateVal = $sdate.val();
    if (input.id === 'js-edate-input') {
      if (startDateVal) {
        minDate = new Date(startDateVal);
        minDate.setDate(minDate.getDate() + 1);
        return {
          minDate: minDate
        };
      } else {
        return {
          minDate: 1
        };
      }
    }
  };

  $sdate.datepicker({
    minDate: 0,
    inline: true,
    onClose: function(selectedDate) {
      $edate.focus();
    }
  });

  $edate.datepicker({
    inline: true,
    beforeShow: customRange,
    onClose: function() {
      $('#js-guest-input').focus();
    }
  });

  $(window).resize(function() {
    Outpost.state.rMapHeight = $(window).height() - 41;
    $('#map').css('height', Outpost.state.rMapHeight);
  });
</script>
